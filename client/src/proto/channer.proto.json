{
    "package": "ChannerProto",
    "messages": [
        {
            "name": "HLC",
            "fields": [
                {
                    "rule": "required",
                    "type": "uint64",
                    "name": "walltime",
                    "id": 1
                },
                {
                    "rule": "required",
                    "type": "uint32",
                    "name": "logical_ts",
                    "id": 2
                }
            ]
        },
        {
            "name": "Post",
            "fields": [
                {
                    "rule": "required",
                    "type": "string",
                    "name": "text",
                    "id": 1
                },
                {
                    "rule": "optional",
                    "type": "HLC",
                    "name": "ts",
                    "id": 2
                },
                {
                    "rule": "optional",
                    "type": "Options",
                    "name": "options",
                    "id": 3
                }
            ],
            "messages": [
                {
                    "name": "Options",
                    "fields": [
                        {
                            "rule": "repeated",
                            "type": "HLC",
                            "name": "refers",
                            "id": 1
                        },
                        {
                            "rule": "optional",
                            "type": "bool",
                            "name": "no_fetch_url",
                            "id": 2
                        }
                    ]
                }
            ]
        },
        {
            "name": "Topic",
            "fields": [
                {
                    "rule": "required",
                    "type": "string",
                    "name": "name",
                    "id": 1
                },
                {
                    "rule": "required",
                    "type": "HLC",
                    "name": "last_read_ts",
                    "id": 2
                },
                {
                    "rule": "repeated",
                    "type": "Post",
                    "name": "recent_posts",
                    "id": 3
                }
            ]
        },
        {
            "name": "LoginRequest",
            "fields": [
                {
                    "rule": "required",
                    "type": "uint64",
                    "name": "walltime",
                    "id": 1
                },
                {
                    "rule": "required",
                    "type": "string",
                    "name": "username",
                    "id": 2
                },
                {
                    "rule": "required",
                    "type": "string",
                    "name": "hash",
                    "id": 3
                },
                {
                    "rule": "required",
                    "type": "string",
                    "name": "device_id",
                    "id": 4
                }
            ]
        },
        {
            "name": "PostRequest",
            "fields": [
                {
                    "rule": "required",
                    "type": "uint64",
                    "name": "topic_id",
                    "id": 2
                },
                {
                    "rule": "required",
                    "type": "uint64",
                    "name": "walltime",
                    "id": 3
                },
                {
                    "rule": "required",
                    "type": "Post",
                    "name": "post",
                    "id": 4
                }
            ]
        },
        {
            "name": "FetchRequest",
            "fields": [
                {
                    "rule": "required",
                    "type": "HLC",
                    "name": "start_at",
                    "id": 2
                },
                {
                    "rule": "optional",
                    "type": "HLC",
                    "name": "end_at",
                    "id": 3
                },
                {
                    "rule": "optional",
                    "type": "uint32",
                    "name": "count",
                    "id": 4
                }
            ]
        },
        {
            "name": "ReadRequest",
            "fields": [
                {
                    "rule": "required",
                    "type": "uint64",
                    "name": "topic_id",
                    "id": 2
                },
                {
                    "rule": "required",
                    "type": "HLC",
                    "name": "read_post_ts",
                    "id": 3
                }
            ]
        },
        {
            "name": "EnterTopicRequest",
            "fields": [
                {
                    "rule": "required",
                    "type": "uint64",
                    "name": "topic_id",
                    "id": 2
                }
            ]
        },
        {
            "name": "ExitTopicRequest",
            "fields": [
                {
                    "rule": "required",
                    "type": "uint64",
                    "name": "topic_id",
                    "id": 2
                }
            ]
        },
        {
            "name": "PingRequest",
            "fields": [
                {
                    "rule": "required",
                    "type": "uint64",
                    "name": "walltime",
                    "id": 1
                }
            ]
        },
        {
            "name": "LoginResponse",
            "fields": [
                {
                    "rule": "optional",
                    "type": "Topic",
                    "name": "last_read",
                    "id": 1
                }
            ]
        },
        {
            "name": "PostResponse",
            "fields": [
                {
                    "rule": "required",
                    "type": "HLC",
                    "name": "posted_at",
                    "id": 1
                }
            ]
        },
        {
            "name": "FetchResponse",
            "fields": [
                {
                    "rule": "repeated",
                    "type": "Post",
                    "name": "posts",
                    "id": 1
                }
            ]
        },
        {
            "name": "ReadResponse",
            "fields": []
        },
        {
            "name": "EnterTopicResponse",
            "fields": []
        },
        {
            "name": "ExitTopicResponse",
            "fields": []
        },
        {
            "name": "PingResponse",
            "fields": [
                {
                    "rule": "required",
                    "type": "uint64",
                    "name": "walltime",
                    "id": 1
                }
            ]
        },
        {
            "name": "RuntimeError",
            "fields": [
                {
                    "rule": "required",
                    "type": "string",
                    "name": "reason",
                    "id": 1
                }
            ]
        },
        {
            "name": "Error",
            "fields": [
                {
                    "rule": "required",
                    "type": "Type",
                    "name": "type",
                    "id": 1
                },
                {
                    "rule": "optional",
                    "type": "RuntimeError",
                    "name": "runtime",
                    "id": 2
                }
            ],
            "enums": [
                {
                    "name": "Type",
                    "values": [
                        {
                            "name": "RuntimeError",
                            "id": 1
                        }
                    ]
                }
            ]
        },
        {
            "name": "Payload",
            "fields": [
                {
                    "rule": "required",
                    "type": "Type",
                    "name": "type",
                    "id": 1
                },
                {
                    "rule": "optional",
                    "type": "uint32",
                    "name": "msgid",
                    "id": 2
                },
                {
                    "rule": "optional",
                    "type": "LoginRequest",
                    "name": "login_request",
                    "id": 3
                },
                {
                    "rule": "optional",
                    "type": "PostRequest",
                    "name": "post_request",
                    "id": 4
                },
                {
                    "rule": "optional",
                    "type": "FetchRequest",
                    "name": "fetch_request",
                    "id": 5
                },
                {
                    "rule": "optional",
                    "type": "ReadRequest",
                    "name": "read_request",
                    "id": 6
                },
                {
                    "rule": "optional",
                    "type": "EnterTopicRequest",
                    "name": "enter_topic_request",
                    "id": 7
                },
                {
                    "rule": "optional",
                    "type": "ExitTopicRequest",
                    "name": "exit_topic_request",
                    "id": 8
                },
                {
                    "rule": "optional",
                    "type": "PingRequest",
                    "name": "ping_request",
                    "id": 9
                },
                {
                    "rule": "optional",
                    "type": "Error",
                    "name": "error",
                    "id": 30
                },
                {
                    "rule": "optional",
                    "type": "LoginResponse",
                    "name": "login_response",
                    "id": 31
                },
                {
                    "rule": "optional",
                    "type": "PostResponse",
                    "name": "post_response",
                    "id": 32
                },
                {
                    "rule": "optional",
                    "type": "FetchResponse",
                    "name": "fetch_response",
                    "id": 33
                },
                {
                    "rule": "optional",
                    "type": "ReadResponse",
                    "name": "read_response",
                    "id": 34
                },
                {
                    "rule": "optional",
                    "type": "EnterTopicResponse",
                    "name": "enter_topic_response",
                    "id": 35
                },
                {
                    "rule": "optional",
                    "type": "ExitTopicResponse",
                    "name": "exit_topic_response",
                    "id": 36
                },
                {
                    "rule": "optional",
                    "type": "PingResponse",
                    "name": "ping_response",
                    "id": 37
                },
                {
                    "rule": "optional",
                    "type": "Post",
                    "name": "post_notify",
                    "id": 61
                }
            ],
            "enums": [
                {
                    "name": "Type",
                    "values": [
                        {
                            "name": "LoginRequest",
                            "id": 1
                        },
                        {
                            "name": "PostRequest",
                            "id": 2
                        },
                        {
                            "name": "FetchRequest",
                            "id": 3
                        },
                        {
                            "name": "ReadRequest",
                            "id": 4
                        },
                        {
                            "name": "EnterTopicRequest",
                            "id": 5
                        },
                        {
                            "name": "ExitTopicRequest",
                            "id": 6
                        },
                        {
                            "name": "PingRequest",
                            "id": 7
                        },
                        {
                            "name": "LoginResponse",
                            "id": 31
                        },
                        {
                            "name": "PostResponse",
                            "id": 32
                        },
                        {
                            "name": "FetchResponse",
                            "id": 33
                        },
                        {
                            "name": "ReadResponse",
                            "id": 34
                        },
                        {
                            "name": "EnterTopicResponse",
                            "id": 35
                        },
                        {
                            "name": "ExitTopicResponse",
                            "id": 36
                        },
                        {
                            "name": "PingResponse",
                            "id": 37
                        },
                        {
                            "name": "PostNotify",
                            "id": 61
                        }
                    ]
                }
            ]
        }
    ]
}